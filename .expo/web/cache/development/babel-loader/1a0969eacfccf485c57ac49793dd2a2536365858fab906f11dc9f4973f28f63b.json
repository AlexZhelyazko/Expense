{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = SignInScreen;\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _nativewind = require(\"nativewind\");\nvar _reactNative = require(\"react-native\");\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _screenWrapper = _interopRequireDefault(require(\"../components/screenWrapper\"));\nvar _theme = require(\"../theme\");\nvar _backButton = _interopRequireDefault(require(\"../components/backButton\"));\nvar _native = require(\"@react-navigation/native\");\nvar _reactNativeSnackbar = _interopRequireDefault(require(\"react-native-snackbar\"));\nvar _auth = require(\"firebase/auth\");\nvar _firebase = require(\"../config/firebase\");\nvar _reactRedux = require(\"react-redux\");\nvar _loading = _interopRequireDefault(require(\"../components/loading\"));\nvar _user = require(\"../redux/slices/user\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _jsxFileName = \"C:\\\\VS-Code\\\\Expense\\\\screens\\\\SignInScreen.js\";\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction SignInScreen() {\n  var _useState = (0, _react.useState)(''),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = (0, _react.useState)(''),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useSelector = (0, _reactRedux.useSelector)(function (state) {\n      return state.user;\n    }),\n    userLoading = _useSelector.userLoading;\n  var navigation = (0, _native.useNavigation)();\n  var dispatch = (0, _reactRedux.useDispatch)();\n  var handleSubmit = function () {\n    var _ref = (0, _asyncToGenerator2.default)(function* () {\n      if (email && password) {\n        try {\n          dispatch((0, _user.setUserLoading)(true));\n          yield (0, _auth.signInWithEmailAndPassword)(_firebase.auth, email, password);\n          dispatch((0, _user.setUserLoading)(false));\n        } catch (e) {\n          dispatch((0, _user.setUserLoading)(false));\n          _reactNativeSnackbar.default.show({\n            text: e.message,\n            backgroundColor: 'red'\n          });\n        }\n      } else {\n        _reactNativeSnackbar.default.show({\n          text: 'Email and Password are required!',\n          backgroundColor: 'red'\n        });\n      }\n    });\n    return function handleSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return (0, _jsxRuntime.jsx)(_screenWrapper.default, {\n    children: (0, _jsxRuntime.jsxs)(_nativewind.StyledComponent, {\n      className: \"flex justify-between h-full mx-4\",\n      component: _reactNative.View,\n      children: [(0, _jsxRuntime.jsxs)(_reactNative.View, {\n        children: [(0, _jsxRuntime.jsxs)(_nativewind.StyledComponent, {\n          className: \"relative\",\n          component: _reactNative.View,\n          children: [(0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n            className: \"absolute top-0 left-0 z-10\",\n            component: _reactNative.View,\n            children: (0, _jsxRuntime.jsx)(_backButton.default, {})\n          }), (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n            className: _theme.colors.heading + \" text-xl font-bold text-center\",\n            component: _reactNative.Text,\n            children: \"Sign In\"\n          })]\n        }), (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n          className: \"flex-row justify-center my-3 mt-5\",\n          component: _reactNative.View,\n          children: (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n            className: \"h-80 w-80\",\n            source: require('../assets/images/login.png'),\n            component: _reactNative.Image\n          })\n        }), (0, _jsxRuntime.jsxs)(_nativewind.StyledComponent, {\n          className: \"space-y-2 mx-2\",\n          component: _reactNative.View,\n          children: [(0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n            className: _theme.colors.heading + \" text-lg font-bold\",\n            component: _reactNative.Text,\n            children: \"Email\"\n          }), (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n            value: email,\n            onChangeText: function onChangeText(value) {\n              return setEmail(value);\n            },\n            className: \"p-4 bg-white rounded-full mb-3\",\n            component: _reactNative.TextInput\n          }), (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n            className: _theme.colors.heading + \" text-lg font-bold\",\n            component: _reactNative.Text,\n            children: \"Password\"\n          }), (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n            value: password,\n            secureTextEntry: true,\n            onChangeText: function onChangeText(value) {\n              return setPassword(value);\n            },\n            className: \"p-4 bg-white rounded-full mb-3\",\n            component: _reactNative.TextInput\n          }), (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n            className: \"flex-row justify-end\",\n            component: _reactNative.TouchableOpacity,\n            children: (0, _jsxRuntime.jsx)(_reactNative.Text, {\n              children: \"Forget Password?\"\n            })\n          })]\n        })]\n      }), (0, _jsxRuntime.jsx)(_reactNative.View, {\n        children: userLoading ? (0, _jsxRuntime.jsx)(_loading.default, {}) : (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n          onPress: handleSubmit,\n          style: {\n            backgroundColor: _theme.colors.button\n          },\n          className: \"my-6 rounded-full p-3 shadow-sm mx-2\",\n          component: _reactNative.TouchableOpacity,\n          children: (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n            className: \"text-center text-white text-lg font-bold\",\n            component: _reactNative.Text,\n            children: \"Sign In\"\n          })\n        })\n      })]\n    })\n  });\n}\n_nativewind.NativeWindStyleSheet.create({\n  styles: {\n    \"shadow-sm@0\": {\n      \"elevation\": 1.5,\n      \"shadowColor\": \"rgba(0, 0, 0, 0.1)\"\n    },\n    \"shadow-sm@1\": {\n      \"shadowOffset\": {\n        \"width\": 0,\n        \"height\": 1\n      },\n      \"shadowRadius\": 2,\n      \"shadowColor\": \"rgba(0, 0, 0, 0.1)\",\n      \"shadowOpacity\": 1\n    },\n    \"shadow-sm@2\": {\n      \"shadowOffset\": {\n        \"width\": 0,\n        \"height\": 1\n      },\n      \"shadowRadius\": 2,\n      \"shadowColor\": \"rgba(0, 0, 0, 0.1)\",\n      \"shadowOpacity\": 1\n    },\n    \"absolute\": {\n      \"position\": \"absolute\"\n    },\n    \"relative\": {\n      \"position\": \"relative\"\n    },\n    \"left-0\": {\n      \"left\": 0\n    },\n    \"top-0\": {\n      \"top\": 0\n    },\n    \"z-10\": {\n      \"zIndex\": 10\n    },\n    \"mx-2\": {\n      \"marginLeft\": 8,\n      \"marginRight\": 8\n    },\n    \"mx-4\": {\n      \"marginLeft\": 16,\n      \"marginRight\": 16\n    },\n    \"my-3\": {\n      \"marginTop\": 12,\n      \"marginBottom\": 12\n    },\n    \"my-6\": {\n      \"marginTop\": 24,\n      \"marginBottom\": 24\n    },\n    \"mb-3\": {\n      \"marginBottom\": 12\n    },\n    \"mt-5\": {\n      \"marginTop\": 20\n    },\n    \"flex\": {\n      \"display\": \"flex\"\n    },\n    \"h-80\": {\n      \"height\": 320\n    },\n    \"h-full\": {\n      \"height\": \"100%\"\n    },\n    \"w-80\": {\n      \"width\": 320\n    },\n    \"flex-row\": {\n      \"flexDirection\": \"row\"\n    },\n    \"justify-end\": {\n      \"justifyContent\": \"flex-end\"\n    },\n    \"justify-center\": {\n      \"justifyContent\": \"center\"\n    },\n    \"justify-between\": {\n      \"justifyContent\": \"space-between\"\n    },\n    \"rounded-full\": {\n      \"borderTopLeftRadius\": 9999,\n      \"borderTopRightRadius\": 9999,\n      \"borderBottomRightRadius\": 9999,\n      \"borderBottomLeftRadius\": 9999\n    },\n    \"bg-white\": {\n      \"backgroundColor\": \"#fff\"\n    },\n    \"p-3\": {\n      \"paddingTop\": 12,\n      \"paddingRight\": 12,\n      \"paddingBottom\": 12,\n      \"paddingLeft\": 12\n    },\n    \"p-4\": {\n      \"paddingTop\": 16,\n      \"paddingRight\": 16,\n      \"paddingBottom\": 16,\n      \"paddingLeft\": 16\n    },\n    \"text-center\": {\n      \"textAlign\": \"center\"\n    },\n    \"font-bold\": {\n      \"fontWeight\": \"700\"\n    },\n    \"text-white\": {\n      \"color\": \"#fff\"\n    },\n    \"space-y-2.children@0\": {\n      \"marginTop\": 8\n    },\n    \"text-lg\": {\n      \"fontSize\": 18,\n      \"lineHeight\": 28\n    },\n    \"text-xl\": {\n      \"fontSize\": 20,\n      \"lineHeight\": 28\n    }\n  },\n  atRules: {\n    \"shadow-sm\": [[[\"media\", \"android\"]], [[\"media\", \"ios\"]], [[\"media\", \"web\"]]],\n    \"space-y-2.children\": [[[\"selector\", \"(> *:not(:first-child))\"]]]\n  },\n  childClasses: {\n    \"space-y-2\": [\"space-y-2.children\"]\n  }\n});","map":{"version":3,"names":["SignInScreen","useState","email","setEmail","password","setPassword","useSelector","state","user","userLoading","navigation","useNavigation","dispatch","useDispatch","handleSubmit","setUserLoading","signInWithEmailAndPassword","auth","e","Snackbar","show","text","message","backgroundColor","colors","heading","require","value","button"],"sources":["C:/VS-Code/Expense/screens/SignInScreen.js"],"sourcesContent":["import { View, Text, Image, TextInput, TouchableOpacity } from 'react-native'\nimport React, { useState } from 'react'\nimport ScreenWrapper from '../components/screenWrapper'\nimport { colors } from '../theme'\nimport BackButton from '../components/backButton'\nimport { useNavigation } from '@react-navigation/native'\nimport Snackbar from 'react-native-snackbar';\nimport { signInWithEmailAndPassword } from 'firebase/auth'\nimport { auth } from '../config/firebase'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Loading from '../components/loading'\nimport { setUserLoading } from '../redux/slices/user'\n\n\nexport default function SignInScreen() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const {userLoading} = useSelector(state=> state.user);\n\n    const navigation = useNavigation();\n\n    const dispatch = useDispatch();\n\n    const handleSubmit = async ()=>{\n        if(email && password){\n            // good to go\n            // navigation.goBack();\n            // navigation.navigate('Home');\n            try{\n                dispatch(setUserLoading(true));\n                await signInWithEmailAndPassword(auth, email, password);\n                dispatch(setUserLoading(false));\n            }catch(e){\n                dispatch(setUserLoading(false));\n                Snackbar.show({\n                    text: e.message,\n                    backgroundColor: 'red'\n                });\n            }\n            \n        }else{\n            // show error\n            Snackbar.show({\n                text: 'Email and Password are required!',\n                backgroundColor: 'red'\n            });\n        }\n    }\n  return (\n    <ScreenWrapper>\n      <View className=\"flex justify-between h-full mx-4\">\n        <View>\n            <View className=\"relative\">\n                <View className=\"absolute top-0 left-0 z-10\">\n                    <BackButton />\n                </View>\n                \n                <Text className={`${colors.heading} text-xl font-bold text-center`}>Sign In</Text>\n            </View>\n            \n            <View className=\"flex-row justify-center my-3 mt-5\">\n                <Image className=\"h-80 w-80\" source={require('../assets/images/login.png')} />\n            </View>\n            <View className=\"space-y-2 mx-2\">\n                <Text className={`${colors.heading} text-lg font-bold`}>Email</Text>\n                <TextInput value={email} onChangeText={value=> setEmail(value)} className=\"p-4 bg-white rounded-full mb-3\" />\n                <Text  className={`${colors.heading} text-lg font-bold`}>Password</Text>\n                <TextInput value={password} secureTextEntry onChangeText={value=> setPassword(value)} className=\"p-4 bg-white rounded-full mb-3\" />\n                <TouchableOpacity className=\"flex-row justify-end\">\n                    <Text>Forget Password?</Text>\n                </TouchableOpacity>\n            </View>\n        </View>\n        \n        <View>\n            {\n                userLoading? (\n                    <Loading />\n                ):(\n                    <TouchableOpacity onPress={handleSubmit} style={{backgroundColor: colors.button}} className=\"my-6 rounded-full p-3 shadow-sm mx-2\">\n                        <Text className=\"text-center text-white text-lg font-bold\">Sign In</Text>\n                    </TouchableOpacity>\n                    \n                )\n            }\n            \n        </View>\n      </View>\n    </ScreenWrapper>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}