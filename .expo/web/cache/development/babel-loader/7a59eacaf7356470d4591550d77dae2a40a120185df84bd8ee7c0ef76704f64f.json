{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = TripExpensesScreen;\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _nativewind = require(\"nativewind\");\nvar _reactNative = require(\"react-native\");\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _screenWrapper = _interopRequireDefault(require(\"../components/screenWrapper\"));\nvar _theme = require(\"../theme\");\nvar _randomImage = _interopRequireDefault(require(\"../assets/images/randomImage\"));\nvar _emptyList = _interopRequireDefault(require(\"../components/emptyList\"));\nvar _native = require(\"@react-navigation/native\");\nvar _backButton = _interopRequireDefault(require(\"../components/backButton\"));\nvar _expenseCard = _interopRequireDefault(require(\"../components/expenseCard\"));\nvar _firestore = require(\"firebase/firestore\");\nvar _firebase = require(\"../config/firebase\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _jsxFileName = \"C:\\\\VS-Code\\\\Expense\\\\screens\\\\TripExpensesScreen.js\";\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nvar items = [{\n  id: 1,\n  title: 'ate sandwitch',\n  amount: 4,\n  category: 'food'\n}, {\n  id: 2,\n  title: 'bought a jacket',\n  amount: 50,\n  category: 'shopping'\n}, {\n  id: 3,\n  title: 'watched a movie',\n  amount: 100,\n  category: 'entertainment'\n}];\nfunction TripExpensesScreen(props) {\n  var _this = this;\n  var _props$route$params = props.route.params,\n    id = _props$route$params.id,\n    place = _props$route$params.place,\n    country = _props$route$params.country;\n  var navigation = (0, _native.useNavigation)();\n  var isFocused = (0, _native.useIsFocused)();\n  var _useState = (0, _react.useState)([]),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    expenses = _useState2[0],\n    setExpenses = _useState2[1];\n  var fetchExpenses = function () {\n    var _ref = (0, _asyncToGenerator2.default)(function* () {\n      var q = (0, _firestore.query)(_firebase.expensesRef, (0, _firestore.where)(\"tripId\", \"==\", id));\n      var querySnapshot = yield (0, _firestore.getDocs)(q);\n      var data = [];\n      querySnapshot.forEach(function (doc) {\n        data.push(Object.assign({}, doc.data(), {\n          id: doc.id\n        }));\n      });\n      setExpenses(data);\n    });\n    return function fetchExpenses() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  (0, _react.useEffect)(function () {\n    if (isFocused) fetchExpenses();\n  }, [isFocused]);\n  return (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n    className: \"flex-1\",\n    component: _screenWrapper.default,\n    children: (0, _jsxRuntime.jsxs)(_nativewind.StyledComponent, {\n      className: \"px-4\",\n      component: _reactNative.View,\n      children: [(0, _jsxRuntime.jsxs)(_nativewind.StyledComponent, {\n        className: \"relative mt-5\",\n        component: _reactNative.View,\n        children: [(0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n          className: \"absolute top-2 left-0 z-10\",\n          component: _reactNative.View,\n          children: (0, _jsxRuntime.jsx)(_backButton.default, {})\n        }), (0, _jsxRuntime.jsxs)(_reactNative.View, {\n          children: [(0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n            className: _theme.colors.heading + \" text-xl font-bold text-center\",\n            component: _reactNative.Text,\n            children: place\n          }), (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n            className: _theme.colors.heading + \" text-xs text-center\",\n            component: _reactNative.Text,\n            children: country\n          })]\n        })]\n      }), (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n        className: \"flex-row justify-center items-center rounded-xl mb-4\",\n        component: _reactNative.View,\n        children: (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n          source: require('../assets/images/7.png'),\n          className: \"w-80 h-80\",\n          component: _reactNative.Image\n        })\n      }), (0, _jsxRuntime.jsxs)(_nativewind.StyledComponent, {\n        className: \" space-y-3\",\n        component: _reactNative.View,\n        children: [(0, _jsxRuntime.jsxs)(_nativewind.StyledComponent, {\n          className: \"flex-row justify-between items-center\",\n          component: _reactNative.View,\n          children: [(0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n            className: _theme.colors.heading + \" font-bold text-xl\",\n            component: _reactNative.Text,\n            children: \"Expenses\"\n          }), (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n            onPress: function onPress() {\n              return navigation.navigate('AddExpense', {\n                id: id,\n                place: place,\n                country: country\n              });\n            },\n            className: \"p-2 px-3 bg-white border border-gray-200 rounded-full\",\n            component: _reactNative.TouchableOpacity,\n            children: (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n              className: _theme.colors.heading,\n              component: _reactNative.Text,\n              children: \"Add Expense\"\n            })\n          })]\n        }), (0, _jsxRuntime.jsx)(_reactNative.View, {\n          style: {\n            height: 430\n          },\n          children: (0, _jsxRuntime.jsx)(_nativewind.StyledComponent, {\n            data: expenses,\n            ListEmptyComponent: (0, _jsxRuntime.jsx)(_emptyList.default, {\n              message: \"You haven't recorded any expenses yet\"\n            }),\n            keyExtractor: function keyExtractor(item) {\n              return item.id;\n            },\n            showsVerticalScrollIndicator: false,\n            className: \"mx-1\",\n            renderItem: function renderItem(_ref2) {\n              var item = _ref2.item;\n              return (0, _jsxRuntime.jsx)(_expenseCard.default, {\n                item: item\n              });\n            },\n            component: _reactNative.FlatList\n          })\n        })]\n      })]\n    })\n  });\n}\n_nativewind.NativeWindStyleSheet.create({\n  styles: {\n    \"absolute\": {\n      \"position\": \"absolute\"\n    },\n    \"relative\": {\n      \"position\": \"relative\"\n    },\n    \"left-0\": {\n      \"left\": 0\n    },\n    \"top-2\": {\n      \"top\": 8\n    },\n    \"z-10\": {\n      \"zIndex\": 10\n    },\n    \"mx-1\": {\n      \"marginLeft\": 4,\n      \"marginRight\": 4\n    },\n    \"mb-4\": {\n      \"marginBottom\": 16\n    },\n    \"mt-5\": {\n      \"marginTop\": 20\n    },\n    \"h-80\": {\n      \"height\": 320\n    },\n    \"w-80\": {\n      \"width\": 320\n    },\n    \"flex-1\": {\n      \"flexGrow\": 1,\n      \"flexShrink\": 1,\n      \"flexBasis\": \"0%\"\n    },\n    \"flex-row\": {\n      \"flexDirection\": \"row\"\n    },\n    \"items-center\": {\n      \"alignItems\": \"center\"\n    },\n    \"justify-center\": {\n      \"justifyContent\": \"center\"\n    },\n    \"justify-between\": {\n      \"justifyContent\": \"space-between\"\n    },\n    \"rounded-full\": {\n      \"borderTopLeftRadius\": 9999,\n      \"borderTopRightRadius\": 9999,\n      \"borderBottomRightRadius\": 9999,\n      \"borderBottomLeftRadius\": 9999\n    },\n    \"rounded-xl\": {\n      \"borderTopLeftRadius\": 12,\n      \"borderTopRightRadius\": 12,\n      \"borderBottomRightRadius\": 12,\n      \"borderBottomLeftRadius\": 12\n    },\n    \"border\": {\n      \"borderTopWidth\": 1,\n      \"borderRightWidth\": 1,\n      \"borderBottomWidth\": 1,\n      \"borderLeftWidth\": 1\n    },\n    \"border-gray-200\": {\n      \"borderTopColor\": \"#e5e7eb\",\n      \"borderRightColor\": \"#e5e7eb\",\n      \"borderBottomColor\": \"#e5e7eb\",\n      \"borderLeftColor\": \"#e5e7eb\"\n    },\n    \"bg-white\": {\n      \"backgroundColor\": \"#fff\"\n    },\n    \"p-2\": {\n      \"paddingTop\": 8,\n      \"paddingRight\": 8,\n      \"paddingBottom\": 8,\n      \"paddingLeft\": 8\n    },\n    \"px-3\": {\n      \"paddingLeft\": 12,\n      \"paddingRight\": 12\n    },\n    \"px-4\": {\n      \"paddingLeft\": 16,\n      \"paddingRight\": 16\n    },\n    \"text-center\": {\n      \"textAlign\": \"center\"\n    },\n    \"font-bold\": {\n      \"fontWeight\": \"700\"\n    },\n    \"space-y-3.children@0\": {\n      \"marginTop\": 12\n    },\n    \"text-xl\": {\n      \"fontSize\": 20,\n      \"lineHeight\": 28\n    },\n    \"text-xs\": {\n      \"fontSize\": 12,\n      \"lineHeight\": 16\n    }\n  },\n  atRules: {\n    \"space-y-3.children\": [[[\"selector\", \"(> *:not(:first-child))\"]]]\n  },\n  childClasses: {\n    \"space-y-3\": [\"space-y-3.children\"]\n  }\n});","map":{"version":3,"names":["items","id","title","amount","category","TripExpensesScreen","props","route","params","place","country","navigation","useNavigation","isFocused","useIsFocused","useState","expenses","setExpenses","fetchExpenses","q","query","expensesRef","where","querySnapshot","getDocs","data","forEach","doc","push","useEffect","colors","heading","require","navigate","height","item"],"sources":["C:/VS-Code/Expense/screens/TripExpensesScreen.js"],"sourcesContent":["import { View, Text, TouchableOpacity, Image, FlatList } from 'react-native'\nimport React, { useEffect, useState } from 'react'\nimport ScreenWrapper from '../components/screenWrapper'\nimport { colors } from '../theme'\nimport randomImage from '../assets/images/randomImage';\nimport EmptyList from '../components/emptyList';\nimport { useIsFocused, useNavigation } from '@react-navigation/native';\nimport BackButton from '../components/backButton';\nimport ExpenseCard from '../components/expenseCard';\nimport { getDocs, query, where } from 'firebase/firestore';\nimport { expensesRef } from '../config/firebase';\nconst items = [\n    {\n        id: 1,\n        title: 'ate sandwitch',\n        amount: 4,\n        category: 'food'\n      },\n      {\n        id: 2,\n        title: 'bought a jacket',\n        amount: 50,\n        category: 'shopping'\n      },\n      {\n        id: 3,\n        title: 'watched a movie',\n        amount: 100,\n        category: 'entertainment'\n      }\n  ]\n\nexport default function TripExpensesScreen(props) {\n    const {id, place, country} = props.route.params;\n    const navigation = useNavigation();\n    const isFocused = useIsFocused();\n    const [expenses, setExpenses] = useState([]);\n    \n\n    const fetchExpenses = async ()=>{\n        const q = query(expensesRef, where(\"tripId\", \"==\", id));\n        const querySnapshot = await getDocs(q);\n        let data = [];\n        querySnapshot.forEach(doc=>{\n            // console.log('documement: ',doc.data());\n            data.push({...doc.data(), id: doc.id})\n        })\n        setExpenses(data);\n    }\n\n    useEffect(()=>{\n        if(isFocused)\n        fetchExpenses();\n    },[isFocused])\n  return (\n    <ScreenWrapper className=\"flex-1\">\n        <View className=\"px-4\">\n            <View className=\"relative mt-5\">\n                    <View className=\"absolute top-2 left-0 z-10\">\n                        <BackButton />\n                    </View>\n                    <View>\n                        <Text className={`${colors.heading} text-xl font-bold text-center`}>{place}</Text>\n                        <Text className={`${colors.heading} text-xs text-center`}>{country}</Text>\n                    </View>\n                    \n            </View>\n            <View className=\"flex-row justify-center items-center rounded-xl mb-4\">\n                <Image source={require('../assets/images/7.png')} className=\"w-80 h-80\" />\n            </View>\n            <View className=\" space-y-3\">\n                <View className=\"flex-row justify-between items-center\">\n                    <Text className={`${colors.heading} font-bold text-xl`}>Expenses</Text>\n                    <TouchableOpacity \n                        onPress={()=> navigation.navigate('AddExpense', {id, place, country})} \n                        className=\"p-2 px-3 bg-white border border-gray-200 rounded-full\">\n                        <Text className={colors.heading}>Add Expense</Text>\n                    </TouchableOpacity>\n                </View>\n                <View style={{height: 430}}>\n                    <FlatList \n                        data={expenses}\n                        ListEmptyComponent={<EmptyList message={\"You haven't recorded any expenses yet\"} />}\n                        keyExtractor={item=> item.id}\n                        showsVerticalScrollIndicator={false}\n                        className=\"mx-1\"\n                        renderItem={({item})=>{\n                            return (\n                                <ExpenseCard item={item} />\n                            )\n                        }}\n                    />\n                </View>\n            </View>\n        </View>\n        \n    </ScreenWrapper>\n  )\n}"],"mappings":"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UAAA;QAAA,EAEH;MAAA;IAAA;EAAA;AAMvB;AAAC;EAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAA;MAAA;MAAA;IAAA;IAAA;MAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;IAAA;IAAA;MAAA;MAAA;IAAA;IAAA;MAAA;MAAA;IAAA;EAAA;EAAA;IAAA;EAAA;EAAA;IAAA;EAAA;AAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}